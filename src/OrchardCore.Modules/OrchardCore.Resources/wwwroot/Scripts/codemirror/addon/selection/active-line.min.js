function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){"use strict";var t="CodeMirror-activeline",n="CodeMirror-activeline-background",i="CodeMirror-activeline-gutter";function o(e){for(var o=0;o<e.state.activeLines.length;o++)e.removeLineClass(e.state.activeLines[o],"wrap",t),e.removeLineClass(e.state.activeLines[o],"background",n),e.removeLineClass(e.state.activeLines[o],"gutter",i)}function r(e,r){for(var a=[],f=0;f<r.length;f++){var c=r[f],s=e.getOption("styleActiveLine");if("object"==_typeof(s)&&s.nonEmpty?c.anchor.line==c.head.line:c.empty()){var l=e.getLineHandleVisualStart(c.head.line);a[a.length-1]!=l&&a.push(l)}}(function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0})(e.state.activeLines,a)||e.operation((function(){o(e);for(var r=0;r<a.length;r++)e.addLineClass(a[r],"wrap",t),e.addLineClass(a[r],"background",n),e.addLineClass(a[r],"gutter",i);e.state.activeLines=a}))}function a(e,t){r(e,t.ranges)}e.defineOption("styleActiveLine",!1,(function(t,n,i){var f=i!=e.Init&&i;n!=f&&(f&&(t.off("beforeSelectionChange",a),o(t),delete t.state.activeLines),n&&(t.state.activeLines=[],r(t,t.listSelections()),t.on("beforeSelectionChange",a)))}))}));
